
<!-- CREDIT: https://github.com/moodlebox/hugo-moodlebox-theme/blob/master/layouts/partials/langswitcher.html -->

{{ if .Site.IsMultiLingual }}
<li id="language-switch" class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="ion-earth" aria-hidden="true"></i></a>
<ul class="dropdown-menu">
  {{ $siteLanguages := .Site.Languages}}
  {{ $pageLang := .Page.Lang}}
  {{ range .Page.AllTranslations }}
      {{ $translation := .}}
      {{ range $siteLanguages }}
          {{ if eq $translation.Lang .Lang }}
            {{ $selected := false }}
            {{ if eq $pageLang .Lang}}
                <li><a href="{{ $translation.URL }}" class="active">{{ .LanguageName }}</a></li>
            {{ else }}
                <li><a href="{{ $translation.URL }}">{{ .LanguageName }}</a></li>
            {{ end }}
          {{ end }}
      {{ end }}
  {{ end }}
</ul>
</li>
{{ end }}